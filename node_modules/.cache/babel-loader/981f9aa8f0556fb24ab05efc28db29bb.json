{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\johan\\\\OneDrive\\\\Documents\\\\GitHub\\\\Markvanding\\\\src\\\\App.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Router } from \"react-router\";\nimport { Route } from 'react-router-dom';\nimport { createBrowserHistory } from 'history';\nimport LoginForm from \"./components/loginform\";\nimport Overview from './components/overview';\nimport Startmachine from './components/startmachine';\nimport Maintenance from './components/maintenance';\nimport Machinepark from './components/machinepark';\nimport Showmachine from './components/showmachine';\nconst history = createBrowserHistory();\n\nfunction App() {\n  _s();\n\n  const storedJwt = localStorage.getItem('token');\n  const [allowNav, setAllowNav] = useState({});\n  const windowWidth = window.innerWidth;\n  const [stage, setStage] = useState(\"overview\");\n  const [submitted, setSubmitted] = useState(false);\n  const [selectedTime, setSelectedtime] = useState({});\n  const [stillgoingMachines, setStillgoingMachines] = useState([]);\n  const [expiredMachines, setExpiredMachines] = useState([]);\n  const [activeMachines, setActiveMachines] = useState([]);\n  const [activePumps, setActivePumps] = useState([]);\n  const [inactiveMachines, setInactiveMachines] = useState([]);\n  const [inactivePumps, setInactivePumps] = useState([]);\n  const [allPumps, setAllPumps] = useState([]);\n  const [allMachines, setAllMachines] = useState([]);\n  const [shownMachine, setShownMachine] = useState([]);\n  const [notes, setNotes] = useState([]);\n  const [hours, setHours] = useState(-1);\n  const [days, setDays] = useState(-1);\n  const machine = localStorage.getItem(\"machine\");\n  const pump = localStorage.getItem(\"pump\");\n\n  function slide() {\n    const burger = document.querySelector('.burger');\n    const nav = document.querySelector('.nav-links');\n    const navLinks = document.querySelectorAll('.nav-links li'); //Toggle Nav\n\n    nav.classList.toggle('nav-active'); //Animate Links\n\n    navLinks.forEach(function (link, index) {\n      link.classList.toggle('nav-active-li');\n\n      if (link.style.animation) {\n        link.style.animation = '';\n      } else {\n        link.style.animation = `navLinkFade 0.5s ease forwards ${index / 7 + 0.5}s`;\n      }\n    }); //Animate Burger\n\n    burger.classList.toggle('toggle');\n  }\n\n  const HandleNavClick = function (event, stage, text) {\n    history.push(stage);\n    var array = event.target.parentNode.parentNode.children;\n\n    for (const line of array) {\n      var anchor = line.children[0];\n      anchor.style.color = \"rgb(233, 233, 233)\";\n    }\n\n    for (const line of array) {\n      var anchor = line.children[0];\n\n      if (anchor.innerHTML.toLowerCase() == text.toLowerCase()) {\n        anchor.style.color = \"rgb(235, 101, 45)\";\n        break;\n      }\n    }\n\n    if (windowWidth <= 1280) slide();\n  }; //   if (windowWidth <= 1280) slide();\n  // }\n\n\n  function chooseTime(event, time) {\n    var tabcontent = document.getElementsByClassName(\"tabcontent\");\n    var tablinks = document.getElementsByClassName(\"tablinks\");\n    var choosetime = document.getElementById('choosetime');\n\n    for (var i = 0; i < tabcontent.length; i++) {\n      tabcontent[i].style.display = \"none\";\n    }\n\n    for (i = 0; i < tablinks.length; i++) {\n      tablinks[i].className = tablinks[i].className.replace(\" active\", \"\");\n    }\n\n    var children = choosetime.children;\n\n    if (time === \"timeremaining\") {\n      children[1].style.display = \"block\";\n    } else {\n      children[2].style.display = \"block\";\n    }\n\n    event.currentTarget.className += \" active\";\n  }\n  /*\r\n    function formatDate(date, format) {\r\n      const months = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"Maj\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\r\n      const map = {\r\n          dd: date.getDate() < 10 ? \"0\" + date.getDate() : date.getDate(),  \r\n          mm: months[date.getMonth()],\r\n          t: date.getHours() < 10 ? \"0\" + date.getHours() : date.getHours(),\r\n          m: date.getMinutes() < 10 ? \"0\" + date.getMinutes() : date.getMinutes()\r\n      }\r\n  \r\n      return format.replace(/dd|mm|t|m/gi, matched => map[matched])\r\n    }\r\n    \r\n    function formatTime(date, format) {\r\n      const map = {\r\n          hh: date.getHours() < 10 ? \"0\" + date.getHours() : date.getHours(),  \r\n          mm: date.getMinutes() < 10 ? \"0\" + date.getMinutes() : date.getMinutes(),\r\n          ss: date.getSeconds() < 10 ? \"0\" + date.getSeconds() : date.getSeconds()\r\n      }\r\n  \r\n      return format.replace(/hh|mm|ss/gi, matched => map[matched])\r\n    }\r\n    */\n\n\n  function TimeChanged(event) {\n    const {\n      name,\n      value\n    } = event.target;\n    var now = new Date();\n\n    if (name === \"timeremaining\") {\n      var hours = parseInt(value.slice(0, 2));\n      var minutes = parseInt(value.slice(3));\n      now.setHours(now.getHours() + hours);\n      now.setMinutes(now.getMinutes() + minutes);\n      console.log(now);\n      setHours(1);\n    } else {\n      now = new Date(value);\n      setDays(1);\n    }\n\n    console.log(now); //Tue Feb 16 2021 10:25:00 GMT+0100 (Central European Standard Time)\n\n    setSelectedtime(now);\n  }\n\n  function UpdateMachine(updatedMachine) {\n    // Set date of machine to selected date\n    var tempMachine = { ...updatedMachine\n    };\n    tempMachine.time = selectedTime.toLocaleString(\"da-DK\", {\n      dateStyle: \"short\",\n      timeStyle: \"medium\"\n    });\n    var tempTime = tempMachine.time.split(\" \");\n    var date = tempTime[0].split(\".\");\n    tempTime[0] = date[2] + \"-\" + date[1] + \"-\" + date[0];\n    tempMachine.time = tempTime.join(\" \");\n    fetch(\"http://10.10.60.161:5000/updatemachine\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(tempMachine)\n    });\n  }\n\n  function UpdatePump(pump) {\n    // Set date of machine to selected date\n    var tempPump = { ...pump\n    };\n    tempPump.active = 1;\n    fetch(\"http://10.10.60.161:5000/updatepump\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(tempPump)\n    });\n  }\n\n  function StopPump(pump) {\n    // Set date of machine to selected date\n    var tempPump = { ...pump\n    };\n    tempPump.active = 0;\n    fetch(\"http://10.10.60.161:5000/updatepump\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(tempPump)\n    });\n  }\n\n  function StopMachine(machine) {\n    // Set date of machine to selected date\n    var tempMachine = { ...machine\n    };\n    tempMachine.pumpname = null;\n    tempMachine.time = null;\n    tempMachine.active = 0;\n    fetch(\"http://10.10.60.161:5000/updatemachine\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(tempMachine)\n    });\n  }\n\n  useEffect(function () {\n    if (storedJwt !== null && storedJwt !== \"\") {\n      //console.log(\"LOGGED IN, PUSHED TO CHOOSE\")\n      setAllowNav(true);\n      history.push(\"/overview\");\n    } else if (storedJwt == null || storedJwt == \"\") {\n      //console.log(\"NOT LOGGED IN, PUSHED TO LOG IN\")\n      setAllowNav(false);\n      history.push(\"/\");\n    }\n\n    document.querySelectorAll(\".nav-links\")[0].children[0].children[0].style.color = \"rgb(235, 101, 45)\";\n    var hasstarted = localStorage.getItem(\"hasstarted\");\n\n    if (hasstarted == \"true\") {\n      console.log(\"Hej\");\n      setSubmitted(true);\n    }\n\n    fetch(\"http://10.10.60.161:5000/activemachines\").then(function (data) {\n      return data.json();\n    }).then(function (json) {\n      setActiveMachines(json);\n      setStillgoingMachines(json.filter(x => new Date() < new Date(x.time)));\n      setExpiredMachines(json.filter(x => new Date() > new Date(x.time)));\n    }).catch(error => {\n      console.log(error);\n    });\n    fetch(\"http://10.10.60.161:5000/activepumps\").then(function (data) {\n      return data.json();\n    }).then(function (json) {\n      setActivePumps(json);\n    }).catch(error => {\n      console.log(error);\n    });\n    fetch(\"http://10.10.60.161:5000/inactivemachines\").then(function (data) {\n      return data.json();\n    }).then(function (json) {\n      setInactiveMachines(json);\n    }).catch(error => {\n      console.log(error);\n    });\n    fetch(\"http://10.10.60.161:5000/inactivepumps\").then(function (data) {\n      return data.json();\n    }).then(function (json) {\n      setInactivePumps(json);\n    }).catch(error => {\n      console.log(error);\n    });\n    fetch(\"http://10.10.60.161:5000/allpumps\").then(function (data) {\n      return data.json();\n    }).then(function (json) {\n      setAllPumps(json);\n    }).catch(error => {\n      console.log(error);\n    });\n    fetch(\"http://10.10.60.161:5000/allmachines\").then(function (data) {\n      return data.json();\n    }).then(function (json) {\n      setAllMachines(json);\n    }).catch(error => {\n      console.log(error);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Router, {\n    history: history,\n    children: submitted ? /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: function (event) {\n        if (machine && pump) {\n          console.log(machine);\n          console.log(pump);\n        }\n\n        var startMachine = {\n          id: machine,\n          pumpname: pump,\n          time: \"2000-01-01 00:00:00\",\n          active: 1\n        };\n        var months = {\n          \"Jan\": \"January\",\n          \"Feb\": \"February\",\n          \"Mar\": \"March\",\n          \"Apr\": \"April\",\n          \"Maj\": \"May\",\n          \"Jun\": \"June\",\n          \"Jul\": \"July\",\n          \"Aug\": \"August\",\n          \"Sep\": \"September\",\n          \"Oct\": \"October\",\n          \"Nov\": \"November\",\n          \"Dec\": \"December\"\n        }; // Prevents default behavior (Getting put at another site)\n\n        event.preventDefault(); //hours // sat?\n        //days // Sat?\n\n        if (hours === -1 && days === -1) {\n          alert(\"Du skal v√¶lge en tid\");\n          return;\n        }\n\n        startMachine.time = selectedTime;\n        /*\r\n        // Set time to whatever the user picked\r\n        tempMachine[\"time\"] = selectedTime.replace(\"T\", \" \"); // Temp value, not correct\r\n        console.log(tempMachine.time)\r\n          //\"October 13, 2014 11:13:00\"\r\n        //\"06 Mar 03:24\"\r\n          console.log(tempMachine.time)\r\n        //06 Mar 03:24\r\n          tempMachine.time += \":00\";\r\n          console.log(tempMachine.time)\r\n        //06 Mar 03:24:00\r\n          var tempTime = tempMachine.time.split(\" \");\r\n          tempTime.push(new Date().getFullYear());\r\n          console.log(tempTime)\r\n        //06 Mar 03:24:00 2021\r\n          tempMachine.time = months[tempTime[1]] + \" \" + tempTime[0] + \" \" + tempTime[3] + \" \" + tempTime[2];\r\n          console.log(tempMachine.time)\r\n        //Mar 06 2021 03:24:00\r\n           \r\n        var newDate = new Date(tempMachine.time)\r\n          var timeDiff = newDate.getTime() - new Date().getTime()\r\n          \r\n        var hours = Math.floor(timeDiff / 3.6e6);\r\n        \r\n        var minutes = Math.floor((timeDiff % 3.6e6) / 6e4);\r\n        \r\n        var seconds = Math.floor((timeDiff % 6e4) / 1000)\r\n        \r\n        tempMachine.time = (hours < 10 ? \"0\" + hours : hours) + \":\" + (minutes < 10 ? \"0\" + minutes : minutes) + \":\" + (seconds < 10 ? \"0\" + seconds : seconds)\r\n        */\n        // var returned = formatTime(newDate, \"hh:mm:ss\")\n\n        console.log(startMachine); // Make new array with the old data from tempdatamachines, and add \"tempMachine\" to it\n\n        setActiveMachines(activeMachines => [...activeMachines, startMachine]); // Removes active machine from dropdown menu\n\n        setInactiveMachines(inactiveMachines.filter(machine => startMachine.id != machine.id)); // Removes active pump from dropdown menu\n\n        setInactivePumps(inactivePumps.filter(pump => startMachine.pumpname != pump.name));\n        UpdateMachine(startMachine); // Set current stage to \"overview\", and set \"Submitted\" hook to false\n\n        localStorage.setItem(\"pump\", \"\");\n        localStorage.setItem(\"machine\", \"\");\n        localStorage.setItem(\"hasstarted\", \"false\");\n        setSubmitted(false);\n        window.location.href = \"/\";\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"choosetime\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tab\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"tablinks\",\n            onClick: event => chooseTime(event, 'timeremaining'),\n            children: \"Tid tilbage\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 443,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"tablinks\",\n            onClick: event => chooseTime(event, 'date'),\n            children: \"Klokkesl\\xE6t\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 444,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 442,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"timeremaining\",\n          className: \"tabcontent\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Tid tilbage\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 448,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"timeremaining\",\n            defaultValue: hours,\n            onChange: event => {\n              TimeChanged(event);\n            },\n            type: \"time\",\n            size: \"50\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 449,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 452,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"choosetimesubmit\",\n            children: \"START\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 453,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 447,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"date\",\n          className: \"tabcontent\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Klokkesl\\xE6t\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 456,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"date\",\n            defaultValue: days,\n            onChange: event => TimeChanged(event),\n            type: \"datetime-local\",\n            min: new Date().toISOString().slice(0, 16),\n            size: \"50\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 457,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 458,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"choosetimesubmit\",\n            children: \"START\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 459,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 455,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 441,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 331,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        children: /*#__PURE__*/_jsxDEV(\"nav\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"logo\",\n            children: /*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \"Markvanding\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 467,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 466,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"nav-links\",\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"#\",\n                onClick: e => HandleNavClick(e, \"overview\", \"OVERSIGT\"),\n                children: \"OVERSIGT\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 471,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 470,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"#\",\n                onClick: e => HandleNavClick(e, \"startmachine\", \"START VANDING\"),\n                children: \"START VANDING\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 474,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 473,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"#\",\n                onClick: e => HandleNavClick(e, \"maintenance\", \"VEDLIGEHOLDELSE\"),\n                children: \"VEDLIGEHOLDELSE\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 477,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 476,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"#\",\n                onClick: e => HandleNavClick(e, \"machinepark\", \"MASKINPARK\"),\n                children: \"MASKINPARK\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 480,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 479,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 469,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"burger\",\n            onClick: slide,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"line1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 484,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"line2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 485,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"line3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 486,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 483,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 465,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 464,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        children: [/*#__PURE__*/_jsxDEV(Route, {\n          exact: true,\n          path: \"/\",\n          children: /*#__PURE__*/_jsxDEV(LoginForm, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 492,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 491,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/overview\",\n          children: /*#__PURE__*/_jsxDEV(Overview, {\n            activePumps: activePumps,\n            stopMachine: StopMachine,\n            stopPump: StopPump,\n            setSubmitted: setSubmitted,\n            expiredMachines: expiredMachines,\n            stillgoingMachines: stillgoingMachines\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 495,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 494,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/startmachine\",\n          children: /*#__PURE__*/_jsxDEV(Startmachine, {\n            setSubmitted: setSubmitted,\n            activeMachines: activeMachines,\n            inactivePumps: inactivePumps,\n            inactiveMachines: inactiveMachines,\n            updatePump: UpdatePump,\n            setSubmitted: setSubmitted\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 498,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 497,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/maintenance\",\n          children: /*#__PURE__*/_jsxDEV(Maintenance, {\n            allMachines: allMachines,\n            setSubmitted: setSubmitted,\n            setShownMachine: setShownMachine,\n            setNotes: setNotes\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 501,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 500,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/machinepark\",\n          children: /*#__PURE__*/_jsxDEV(Machinepark, {\n            allPumps: allPumps,\n            allMachines: allMachines,\n            setSubmitted: setSubmitted\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 504,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 503,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Route, {\n          path: \"/showmachine\",\n          children: /*#__PURE__*/_jsxDEV(Showmachine, {\n            shownMachine: shownMachine,\n            notes: notes\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 507,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 506,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 490,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 329,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"mbYd7Ad/WJNjkcq6O+6wJhcSXPA=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["C:/Users/johan/OneDrive/Documents/GitHub/Markvanding/src/App.jsx"],"names":["React","useEffect","useState","Router","Route","createBrowserHistory","LoginForm","Overview","Startmachine","Maintenance","Machinepark","Showmachine","history","App","storedJwt","localStorage","getItem","allowNav","setAllowNav","windowWidth","window","innerWidth","stage","setStage","submitted","setSubmitted","selectedTime","setSelectedtime","stillgoingMachines","setStillgoingMachines","expiredMachines","setExpiredMachines","activeMachines","setActiveMachines","activePumps","setActivePumps","inactiveMachines","setInactiveMachines","inactivePumps","setInactivePumps","allPumps","setAllPumps","allMachines","setAllMachines","shownMachine","setShownMachine","notes","setNotes","hours","setHours","days","setDays","machine","pump","slide","burger","document","querySelector","nav","navLinks","querySelectorAll","classList","toggle","forEach","link","index","style","animation","HandleNavClick","event","text","push","array","target","parentNode","children","line","anchor","color","innerHTML","toLowerCase","chooseTime","time","tabcontent","getElementsByClassName","tablinks","choosetime","getElementById","i","length","display","className","replace","currentTarget","TimeChanged","name","value","now","Date","parseInt","slice","minutes","getHours","setMinutes","getMinutes","console","log","UpdateMachine","updatedMachine","tempMachine","toLocaleString","dateStyle","timeStyle","tempTime","split","date","join","fetch","method","headers","body","JSON","stringify","UpdatePump","tempPump","active","StopPump","StopMachine","pumpname","hasstarted","then","data","json","filter","x","catch","error","startMachine","id","months","preventDefault","alert","setItem","location","href","toISOString","e"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\n\r\nimport { Router } from \"react-router\";\r\nimport { Route } from 'react-router-dom';\r\nimport { createBrowserHistory } from 'history';\r\n\r\nimport LoginForm from \"./components/loginform\"\r\nimport Overview from './components/overview';\r\nimport Startmachine from './components/startmachine';\r\nimport Maintenance from './components/maintenance';\r\nimport Machinepark from './components/machinepark';\r\nimport Showmachine from './components/showmachine';\r\n\r\nconst history = createBrowserHistory();\r\n\r\nfunction App() {\r\n\r\n  const storedJwt = localStorage.getItem('token');\r\n  const [allowNav, setAllowNav] = useState({})\r\n  const windowWidth = window.innerWidth;\r\n\r\n  const [stage, setStage] = useState(\"overview\")\r\n  const [submitted, setSubmitted] = useState(false)\r\n  const [selectedTime, setSelectedtime] = useState({})\r\n\r\n  const [stillgoingMachines, setStillgoingMachines] = useState([])\r\n  const [expiredMachines, setExpiredMachines] = useState([])\r\n  const [activeMachines, setActiveMachines] = useState([])\r\n  const [activePumps, setActivePumps] = useState([])\r\n  const [inactiveMachines, setInactiveMachines] = useState([])\r\n  const [inactivePumps, setInactivePumps] = useState([])\r\n  const [allPumps, setAllPumps] = useState([])\r\n  const [allMachines, setAllMachines] = useState([])\r\n  const [shownMachine, setShownMachine] = useState([])\r\n  const [notes, setNotes] = useState([])\r\n  const [hours, setHours] = useState(-1)\r\n  const [days, setDays] = useState(-1)\r\n  \r\n  const machine = localStorage.getItem(\"machine\")\r\n  const pump = localStorage.getItem(\"pump\")\r\n\r\n\r\n  function slide(){\r\n    const burger = document.querySelector('.burger');\r\n    const nav = document.querySelector('.nav-links');\r\n    const navLinks = document.querySelectorAll('.nav-links li');\r\n\r\n    //Toggle Nav\r\n    nav.classList.toggle('nav-active');\r\n    \r\n    //Animate Links\r\n    navLinks.forEach(function(link, index){\r\n      link.classList.toggle('nav-active-li');\r\n      if(link.style.animation){\r\n        link.style.animation = '';\r\n      }\r\n      else{\r\n        link.style.animation = `navLinkFade 0.5s ease forwards ${index / 7 + 0.5}s`\r\n      }\r\n    });\r\n\r\n    //Animate Burger\r\n    burger.classList.toggle('toggle');\r\n  }\r\n\r\n  const HandleNavClick = function(event, stage, text) {\r\n    history.push(stage)\r\n    var array = event.target.parentNode.parentNode.children\r\n\r\n\r\n    for (const line of array) {\r\n      var anchor = line.children[0];\r\n      anchor.style.color = \"rgb(233, 233, 233)\"\r\n    }\r\n\r\n    for (const line of array) {\r\n      var anchor = line.children[0];\r\n\r\n      if (anchor.innerHTML.toLowerCase() == text.toLowerCase()) {\r\n        anchor.style.color = \"rgb(235, 101, 45)\"\r\n        break\r\n      }\r\n    }\r\n\r\n    if (windowWidth <= 1280) slide();\r\n }\r\n\r\n\r\n    \r\n  //   if (windowWidth <= 1280) slide();\r\n  // }\r\n\r\n  function chooseTime(event, time) {\r\n\r\n    var tabcontent = document.getElementsByClassName(\"tabcontent\");\r\n    var tablinks = document.getElementsByClassName(\"tablinks\");\r\n    var choosetime = document.getElementById('choosetime');\r\n\r\n    for (var i = 0; i < tabcontent.length; i++) {\r\n      tabcontent[i].style.display = \"none\";\r\n    }\r\n\r\n    for (i = 0; i < tablinks.length; i++) {\r\n      tablinks[i].className = tablinks[i].className.replace(\" active\", \"\");\r\n    }\r\n\r\n    var children = choosetime.children;\r\n\r\n    if (time === \"timeremaining\")\r\n    {\r\n      children[1].style.display = \"block\"\r\n    } else\r\n    {\r\n      children[2].style.display = \"block\"\r\n    }\r\n    event.currentTarget.className += \" active\";\r\n  }\r\n/*\r\n  function formatDate(date, format) {\r\n    const months = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"Maj\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\r\n    const map = {\r\n        dd: date.getDate() < 10 ? \"0\" + date.getDate() : date.getDate(),  \r\n        mm: months[date.getMonth()],\r\n        t: date.getHours() < 10 ? \"0\" + date.getHours() : date.getHours(),\r\n        m: date.getMinutes() < 10 ? \"0\" + date.getMinutes() : date.getMinutes()\r\n    }\r\n\r\n    return format.replace(/dd|mm|t|m/gi, matched => map[matched])\r\n  }\r\n  \r\n  function formatTime(date, format) {\r\n    const map = {\r\n        hh: date.getHours() < 10 ? \"0\" + date.getHours() : date.getHours(),  \r\n        mm: date.getMinutes() < 10 ? \"0\" + date.getMinutes() : date.getMinutes(),\r\n        ss: date.getSeconds() < 10 ? \"0\" + date.getSeconds() : date.getSeconds()\r\n    }\r\n\r\n    return format.replace(/hh|mm|ss/gi, matched => map[matched])\r\n  }\r\n  */\r\n  \r\n  function TimeChanged(event){\r\n    const {name, value} = event.target\r\n\r\n    \r\n    var now = new Date();\r\n\r\n    if (name === \"timeremaining\") {\r\n      var hours = parseInt(value.slice(0, 2))\r\n      var minutes = parseInt(value.slice(3))\r\n\r\n      now.setHours(now.getHours() + hours)\r\n      now.setMinutes(now.getMinutes() + minutes)\r\n      console.log(now)\r\n      setHours(1)\r\n    } else {\r\n      now = new Date(value);\r\n      setDays(1)\r\n    }\r\n    console.log(now)\r\n    //Tue Feb 16 2021 10:25:00 GMT+0100 (Central European Standard Time)\r\n    setSelectedtime(now)\r\n  }\r\n\r\n  function UpdateMachine(updatedMachine){\r\n\r\n    // Set date of machine to selected date\r\n     var tempMachine = {...updatedMachine}\r\n     \r\n     tempMachine.time = selectedTime.toLocaleString(\"da-DK\", {\r\n       dateStyle: \"short\",\r\n       timeStyle: \"medium\"\r\n     });\r\n     \r\n     var tempTime = tempMachine.time.split(\" \");\r\n     var date = tempTime[0].split(\".\")\r\n     tempTime[0] = date[2] + \"-\" + date[1] + \"-\" + date[0]\r\n     tempMachine.time = tempTime.join(\" \");\r\n\r\n    fetch(\"http://10.10.60.161:5000/updatemachine\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify(tempMachine)\r\n    })\r\n  }\r\n\r\n  function UpdatePump(pump){\r\n\r\n    // Set date of machine to selected date\r\n     var tempPump = {...pump}\r\n     \r\n     tempPump.active = 1;\r\n     \r\n\r\n    fetch(\"http://10.10.60.161:5000/updatepump\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify(tempPump)\r\n    })\r\n  }\r\n\r\n  function StopPump(pump){\r\n\r\n    // Set date of machine to selected date\r\n     var tempPump = {...pump}\r\n     \r\n     tempPump.active = 0;\r\n     \r\n\r\n    fetch(\"http://10.10.60.161:5000/updatepump\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify(tempPump)\r\n    })\r\n  }\r\n\r\n  function StopMachine(machine){\r\n\r\n    // Set date of machine to selected date\r\n     var tempMachine = {...machine}\r\n    \r\n     tempMachine.pumpname = null\r\n     tempMachine.time = null\r\n     tempMachine.active = 0\r\n     \r\n\r\n    fetch(\"http://10.10.60.161:5000/updatemachine\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify(tempMachine)\r\n    })\r\n  }\r\n\r\n\r\n  useEffect(function() \r\n  {\r\n\r\n    if (storedJwt !== null && storedJwt !== \"\") {\r\n      //console.log(\"LOGGED IN, PUSHED TO CHOOSE\")\r\n      setAllowNav(true)\r\n      history.push(\"/overview\")\r\n    } else if (storedJwt == null || storedJwt == \"\") {\r\n      //console.log(\"NOT LOGGED IN, PUSHED TO LOG IN\")\r\n      setAllowNav(false)\r\n      history.push(\"/\")\r\n    }\r\n\r\n    document.querySelectorAll(\".nav-links\")[0].children[0].children[0].style.color = \"rgb(235, 101, 45)\"\r\n    var hasstarted = localStorage.getItem(\"hasstarted\")\r\n    if (hasstarted == \"true\") {\r\n      console.log(\"Hej\")\r\n      setSubmitted(true)\r\n    }\r\n\r\n    fetch(\"http://10.10.60.161:5000/activemachines\")\r\n      .then(function(data) {\r\n        return data.json();\r\n      })\r\n      .then(function(json) {\r\n        setActiveMachines(json)\r\n        setStillgoingMachines(json.filter(x => new Date() < new Date(x.time)))\r\n        setExpiredMachines(json.filter(x => new Date() > new Date(x.time)))\r\n      }).catch((error) => {\r\n        console.log(error);\r\n      });\r\n\r\n      fetch(\"http://10.10.60.161:5000/activepumps\")\r\n      .then(function(data) {\r\n        return data.json();\r\n      })\r\n      .then(function(json) {\r\n        setActivePumps(json)     \r\n      }).catch((error) => {\r\n        console.log(error);\r\n      });\r\n\r\n      fetch(\"http://10.10.60.161:5000/inactivemachines\")\r\n      .then(function(data) {\r\n        return data.json();\r\n      })\r\n      .then(function(json) {\r\n        setInactiveMachines(json)     \r\n      }).catch((error) => {\r\n        console.log(error);\r\n      });\r\n\r\n      fetch(\"http://10.10.60.161:5000/inactivepumps\")\r\n      .then(function(data) {\r\n        return data.json();\r\n      })\r\n      .then(function(json) {\r\n        setInactivePumps(json)     \r\n      }).catch((error) => {\r\n        console.log(error);\r\n      });\r\n\r\n      fetch(\"http://10.10.60.161:5000/allpumps\")\r\n      .then(function(data) {\r\n        return data.json();\r\n      })\r\n      .then(function(json) {\r\n        setAllPumps(json)     \r\n      }).catch((error) => {\r\n        console.log(error);\r\n      });\r\n\r\n      fetch(\"http://10.10.60.161:5000/allmachines\")\r\n      .then(function(data) {\r\n        return data.json();\r\n      })\r\n      .then(function(json) {\r\n        setAllMachines(json)\r\n      }).catch((error) => {\r\n        console.log(error);\r\n      });\r\n      \r\n  \r\n    }, [])\r\n\r\n  return (\r\n    <Router history={history}>\r\n      {submitted ? (\r\n        <form onSubmit={function(event) {\r\n          \r\n          if(machine && pump){\r\n            console.log(machine)\r\n            console.log(pump)\r\n          }\r\n\r\n\r\n          var startMachine = {\r\n            id: machine,\r\n            pumpname: pump,\r\n            time: \"2000-01-01 00:00:00\",\r\n            active: 1\r\n          }\r\n          \r\n          \r\n          var months = {\r\n            \"Jan\": \"January\",\r\n            \"Feb\": \"February\",\r\n            \"Mar\": \"March\",\r\n            \"Apr\": \"April\",\r\n            \"Maj\": \"May\",\r\n            \"Jun\": \"June\",\r\n            \"Jul\": \"July\",\r\n            \"Aug\": \"August\",\r\n            \"Sep\": \"September\",\r\n            \"Oct\": \"October\",\r\n            \"Nov\": \"November\",\r\n            \"Dec\": \"December\"\r\n          }\r\n\r\n          // Prevents default behavior (Getting put at another site)\r\n          event.preventDefault();\r\n\r\n          //hours // sat?\r\n          //days // Sat?\r\n\r\n          if (hours === -1 && days === -1) {\r\n            alert(\"Du skal v√¶lge en tid\")\r\n            return;\r\n          }\r\n\r\n          startMachine.time = selectedTime;\r\n\r\n          /*\r\n          // Set time to whatever the user picked\r\n          tempMachine[\"time\"] = selectedTime.replace(\"T\", \" \"); // Temp value, not correct\r\n          console.log(tempMachine.time)\r\n\r\n          //\"October 13, 2014 11:13:00\"\r\n          //\"06 Mar 03:24\"\r\n\r\n          console.log(tempMachine.time)\r\n          //06 Mar 03:24\r\n\r\n          tempMachine.time += \":00\";\r\n\r\n          console.log(tempMachine.time)\r\n          //06 Mar 03:24:00\r\n\r\n          var tempTime = tempMachine.time.split(\" \");\r\n\r\n          tempTime.push(new Date().getFullYear());\r\n\r\n          console.log(tempTime)\r\n          //06 Mar 03:24:00 2021\r\n\r\n          tempMachine.time = months[tempTime[1]] + \" \" + tempTime[0] + \" \" + tempTime[3] + \" \" + tempTime[2];\r\n\r\n          console.log(tempMachine.time)\r\n          //Mar 06 2021 03:24:00\r\n \r\n          \r\n          var newDate = new Date(tempMachine.time)\r\n\r\n          var timeDiff = newDate.getTime() - new Date().getTime()\r\n\r\n          \r\n          var hours = Math.floor(timeDiff / 3.6e6);\r\n          \r\n          var minutes = Math.floor((timeDiff % 3.6e6) / 6e4);\r\n          \r\n          var seconds = Math.floor((timeDiff % 6e4) / 1000)\r\n          \r\n          tempMachine.time = (hours < 10 ? \"0\" + hours : hours) + \":\" + (minutes < 10 ? \"0\" + minutes : minutes) + \":\" + (seconds < 10 ? \"0\" + seconds : seconds)\r\n          */\r\n          \r\n          // var returned = formatTime(newDate, \"hh:mm:ss\")\r\n\r\n          console.log(startMachine)\r\n          \r\n          // Make new array with the old data from tempdatamachines, and add \"tempMachine\" to it\r\n          setActiveMachines(activeMachines => [...activeMachines, startMachine])\r\n\r\n          // Removes active machine from dropdown menu\r\n          setInactiveMachines(inactiveMachines.filter(machine => startMachine.id != machine.id))\r\n\r\n          // Removes active pump from dropdown menu\r\n          setInactivePumps(inactivePumps.filter(pump => startMachine.pumpname != pump.name))\r\n\r\n          UpdateMachine(startMachine);\r\n          \r\n          // Set current stage to \"overview\", and set \"Submitted\" hook to false\r\n\r\n          localStorage.setItem(\"pump\", \"\")\r\n          localStorage.setItem(\"machine\", \"\")\r\n          localStorage.setItem(\"hasstarted\", \"false\")\r\n          setSubmitted(false);\r\n          window.location.href = \"/\"\r\n        }}>\r\n          <div id=\"choosetime\">\r\n            <div className=\"tab\">\r\n              <button type=\"button\" className=\"tablinks\" onClick={(event) => chooseTime(event, 'timeremaining')}>Tid tilbage</button>\r\n              <button type=\"button\" className=\"tablinks\" onClick={(event) => chooseTime(event, 'date')}>Klokkesl√¶t</button>\r\n            </div>\r\n\r\n            <div id=\"timeremaining\" className=\"tabcontent\">\r\n              <h3>Tid tilbage</h3>\r\n              <input name=\"timeremaining\" defaultValue={hours} onChange={(event) => {\r\n                TimeChanged(event)\r\n              }} type=\"time\" size=\"50\"></input>\r\n              <br></br>\r\n              <button type=\"submit\" className=\"choosetimesubmit\">START</button>\r\n            </div>\r\n            <div id=\"date\" className=\"tabcontent\">\r\n              <h3>Klokkesl√¶t</h3>\r\n              <input name=\"date\" defaultValue={days} onChange={(event) => TimeChanged(event)} type=\"datetime-local\" min={new Date().toISOString().slice(0, 16)} size=\"50\"></input>\r\n              <br></br>\r\n              <button type=\"submit\" className=\"choosetimesubmit\">START</button>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      ) : <>\r\n        <header>\r\n          <nav>\r\n            <div className=\"logo\">\r\n              <h1>Markvanding</h1>\r\n            </div>\r\n            <ul className=\"nav-links\">\r\n              <li>\r\n                <a href=\"#\" onClick={(e) => HandleNavClick(e, \"overview\", \"OVERSIGT\")}>OVERSIGT</a>\r\n              </li>\r\n              <li>\r\n                <a href=\"#\" onClick={(e) => HandleNavClick(e, \"startmachine\", \"START VANDING\")}>START VANDING</a>\r\n              </li>\r\n              <li>\r\n                <a href=\"#\" onClick={(e) => HandleNavClick(e, \"maintenance\", \"VEDLIGEHOLDELSE\")}>VEDLIGEHOLDELSE</a>\r\n              </li>\r\n              <li>\r\n                <a href=\"#\" onClick={(e) => HandleNavClick(e, \"machinepark\", \"MASKINPARK\")}>MASKINPARK</a>\r\n              </li>\r\n            </ul>\r\n            <div className=\"burger\" onClick={slide}>\r\n              <div className=\"line1\"></div>\r\n              <div className=\"line2\"></div>\r\n              <div className=\"line3\"></div>\r\n            </div>\r\n          </nav>\r\n        </header>\r\n        <main>  \r\n          <Route exact path=\"/\">\r\n              <LoginForm></LoginForm>\r\n          </Route>        \r\n          <Route path=\"/overview\">\r\n            <Overview activePumps={activePumps} stopMachine={StopMachine} stopPump={StopPump} setSubmitted={setSubmitted} expiredMachines = {expiredMachines} stillgoingMachines = {stillgoingMachines}/>\r\n          </Route>\r\n          <Route path=\"/startmachine\">\r\n            <Startmachine setSubmitted={setSubmitted} activeMachines={activeMachines} inactivePumps={inactivePumps} inactiveMachines={inactiveMachines} updatePump={UpdatePump} setSubmitted={setSubmitted}/>\r\n          </Route>\r\n          <Route path=\"/maintenance\">\r\n            <Maintenance allMachines={allMachines} setSubmitted={setSubmitted} setShownMachine={setShownMachine} setNotes={setNotes}/>\r\n          </Route>\r\n          <Route path=\"/machinepark\">\r\n            <Machinepark allPumps={allPumps} allMachines={allMachines} setSubmitted={setSubmitted}/>\r\n          </Route>\r\n          <Route path=\"/showmachine\">            \r\n            <Showmachine shownMachine={shownMachine} notes={notes}/>\r\n          </Route>\r\n        </main>\r\n      </>}\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}