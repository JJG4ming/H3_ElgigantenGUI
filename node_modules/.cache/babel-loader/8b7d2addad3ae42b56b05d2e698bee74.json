{"ast":null,"code":"import React from \"react\";\nimport { useState } from \"react\";\nimport { withRouter } from \"react-router\";\n/*\r\nconst LoginForm = ({history}) => {\r\n    const [email, setEmail] = useState(\"\")\r\n    const [pass, setPassword] = useState(\"\")\r\n    const [error, setError] = useState(\"\")\r\n\r\n    const HandleLogin = (e) => {\r\n        e.preventDefault();\r\n\r\n        fetch(\"http://localhost:3001/auth\", {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-type\": \"application/json\",\r\n                \"Accept\" : \"application/json\"\r\n            },\r\n            body: JSON.stringify({\r\n                email: email,\r\n                password: pass\r\n            })\r\n        })\r\n        .then(res => res.json())\r\n        .then(json => {\r\n            console.log(json)\r\n            if (json.error === \"wrongdetails\") {\r\n                setError(\"Email eller Kode er forkert\")\r\n            } else if (json.error === \"missingdetails\") {\r\n                setError(\"Venligst udfyld begge felter\") \r\n            } else {\r\n                localStorage.setItem('token', json.token);\r\n                history.push(\"/overview\")\r\n                window.location.href = \"/\"\r\n            }\r\n        })\r\n    }\r\n    \r\n    return (\r\n        <main>\r\n            <div className=\"imgcontainer\">\r\n            </div>\r\n            <form onSubmit={HandleLogin} method=\"post\" className=\"flexCenteredColumn\">\r\n                <label>{error}</label> \r\n                <div id=\"loginform\">\r\n                    <label><b>Email</b>\r\n                        <input type=\"text\" name={email} onChange={(e) => { setEmail(e.target.value) }} required></input>\r\n                    </label>    \r\n\r\n                    <label><b>Kode</b>\r\n                        <input type=\"password\" name={pass} onChange={(e) => { setPassword(e.target.value) }} required></input>\r\n                    </label>\r\n\r\n                    <button id=\"loginbutton\" type=\"submit\">Log ind</button>          \r\n                </div>\r\n            </form>\r\n        </main>\r\n    )\r\n}\r\n\r\nexport default withRouter(LoginForm);\r\n*/","map":{"version":3,"sources":["C:/Users/johan/OneDrive/Documents/GitHub/Markvanding/src/components/LoginForm.jsx"],"names":["React","useState","withRouter"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,OAAzB;AACA,SAASC,UAAT,QAA2B,cAA3B;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["import React from \"react\";\r\nimport { useState } from \"react\"\r\nimport { withRouter } from \"react-router\";\r\n\r\n/*\r\nconst LoginForm = ({history}) => {\r\n    const [email, setEmail] = useState(\"\")\r\n    const [pass, setPassword] = useState(\"\")\r\n    const [error, setError] = useState(\"\")\r\n\r\n    const HandleLogin = (e) => {\r\n        e.preventDefault();\r\n\r\n        fetch(\"http://localhost:3001/auth\", {\r\n            method: \"POST\",\r\n            headers: {\r\n                \"Content-type\": \"application/json\",\r\n                \"Accept\" : \"application/json\"\r\n            },\r\n            body: JSON.stringify({\r\n                email: email,\r\n                password: pass\r\n            })\r\n        })\r\n        .then(res => res.json())\r\n        .then(json => {\r\n            console.log(json)\r\n            if (json.error === \"wrongdetails\") {\r\n                setError(\"Email eller Kode er forkert\")\r\n            } else if (json.error === \"missingdetails\") {\r\n                setError(\"Venligst udfyld begge felter\") \r\n            } else {\r\n                localStorage.setItem('token', json.token);\r\n                history.push(\"/overview\")\r\n                window.location.href = \"/\"\r\n            }\r\n        })\r\n    }\r\n    \r\n    return (\r\n        <main>\r\n            <div className=\"imgcontainer\">\r\n            </div>\r\n            <form onSubmit={HandleLogin} method=\"post\" className=\"flexCenteredColumn\">\r\n                <label>{error}</label> \r\n                <div id=\"loginform\">\r\n                    <label><b>Email</b>\r\n                        <input type=\"text\" name={email} onChange={(e) => { setEmail(e.target.value) }} required></input>\r\n                    </label>    \r\n\r\n                    <label><b>Kode</b>\r\n                        <input type=\"password\" name={pass} onChange={(e) => { setPassword(e.target.value) }} required></input>\r\n                    </label>\r\n\r\n                    <button id=\"loginbutton\" type=\"submit\">Log ind</button>          \r\n                </div>\r\n            </form>\r\n        </main>\r\n    )\r\n}\r\n\r\nexport default withRouter(LoginForm);\r\n*/"]},"metadata":{},"sourceType":"module"}