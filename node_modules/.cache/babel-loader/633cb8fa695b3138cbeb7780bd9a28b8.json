{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\johan\\\\OneDrive\\\\Documents\\\\GitHub\\\\Markvanding\\\\src\\\\App.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport Overview from './components/overview';\nimport Phonenumbers from './components/phonenumbers';\nimport Startmachine from './components/startmachine';\nimport Maintenance from './components/maintenance';\nimport Addmachines from './components/addmachines';\n\nfunction App() {\n  _s();\n\n  const windowWidth = window.innerWidth;\n  const [stage, setStage] = useState(\"overview\");\n  const [submitted, setSubmitted] = useState(false);\n  const [startMachine, setStartmachine] = useState({});\n  const [selectedTime, setSelectedtime] = useState({});\n  const [activeMachines, setActiveMachines] = useState([]);\n  const [activePumps, setActivePumps] = useState([]);\n  const [inactiveMachines, setInactiveMachines] = useState([]);\n  const [inactivePumps, setInactivePumps] = useState([]);\n  const [allPumps, setAllPumps] = useState([]);\n  const [allMachines, setAllMachines] = useState([]);\n  const machine = localStorage.getItem(\"machine\");\n  const pump = localStorage.getItem(\"pump\");\n\n  function slide() {\n    const burger = document.querySelector('.burger');\n    const nav = document.querySelector('.nav-links');\n    const navLinks = document.querySelectorAll('.nav-links li'); //Toggle Nav\n\n    nav.classList.toggle('nav-active'); //Animate Links\n\n    navLinks.forEach(function (link, index) {\n      link.classList.toggle('nav-active-li');\n\n      if (link.style.animation) {\n        link.style.animation = '';\n      } else {\n        link.style.animation = `navLinkFade 0.5s ease forwards ${index / 7 + 0.5}s`;\n      }\n    }); //Animate Burger\n\n    burger.classList.toggle('toggle');\n  }\n\n  function HandleClick(navbar) {\n    switch (navbar) {\n      case \"overview\":\n        setStage(\"overview\");\n        break;\n\n      case \"startmachine\":\n        setStage(\"startmachine\");\n        break;\n\n      case \"phonenumber\":\n        setStage(\"phonenumber\");\n        break;\n\n      case \"maintenance\":\n        setStage(\"maintenance\");\n        break;\n\n      case \"addmachine\":\n        setStage(\"addmachine\");\n        break;\n\n      default:\n        break;\n    }\n\n    if (windowWidth <= 1280) slide();\n  }\n\n  function chooseTime(event, time) {\n    var tabcontent = document.getElementsByClassName(\"tabcontent\");\n    var tablinks = document.getElementsByClassName(\"tablinks\");\n    var choosetime = document.getElementById('choosetime');\n\n    for (var i = 0; i < tabcontent.length; i++) {\n      tabcontent[i].style.display = \"none\";\n    }\n\n    for (i = 0; i < tablinks.length; i++) {\n      tablinks[i].className = tablinks[i].className.replace(\" active\", \"\");\n    }\n\n    var children = choosetime.children;\n\n    if (time === \"timeremaining\") {\n      children[1].style.display = \"block\";\n    } else {\n      children[2].style.display = \"block\";\n    }\n\n    event.currentTarget.className += \" active\";\n  }\n  /*\r\n    function formatDate(date, format) {\r\n      const months = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"Maj\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\r\n      const map = {\r\n          dd: date.getDate() < 10 ? \"0\" + date.getDate() : date.getDate(),  \r\n          mm: months[date.getMonth()],\r\n          t: date.getHours() < 10 ? \"0\" + date.getHours() : date.getHours(),\r\n          m: date.getMinutes() < 10 ? \"0\" + date.getMinutes() : date.getMinutes()\r\n      }\r\n  \r\n      return format.replace(/dd|mm|t|m/gi, matched => map[matched])\r\n    }\r\n    \r\n    function formatTime(date, format) {\r\n      const map = {\r\n          hh: date.getHours() < 10 ? \"0\" + date.getHours() : date.getHours(),  \r\n          mm: date.getMinutes() < 10 ? \"0\" + date.getMinutes() : date.getMinutes(),\r\n          ss: date.getSeconds() < 10 ? \"0\" + date.getSeconds() : date.getSeconds()\r\n      }\r\n  \r\n      return format.replace(/hh|mm|ss/gi, matched => map[matched])\r\n    }\r\n    */\n\n\n  function TimeChanged(event) {\n    const {\n      name,\n      value\n    } = event.target;\n    var now = new Date();\n\n    if (name === \"timeremaining\") {\n      var hours = parseInt(value.slice(0, 2));\n      var minutes = parseInt(value.slice(3));\n      now.setHours(now.getHours() + hours);\n      now.setMinutes(now.getMinutes() + minutes);\n      console.log(now);\n    } else {\n      now = new Date(value);\n    }\n\n    console.log(now); //Tue Feb 16 2021 10:25:00 GMT+0100 (Central European Standard Time)\n\n    setSelectedtime(now);\n  }\n\n  function UpdateMachine(updatedMachine) {\n    // Set date of machine to selected date\n    var tempMachine = { ...updatedMachine\n    };\n    tempMachine.time = selectedTime.toLocaleString(\"da-DK\", {\n      dateStyle: \"short\",\n      timeStyle: \"medium\"\n    });\n    var tempTime = tempMachine.time.split(\" \");\n    var date = tempTime[0].split(\".\");\n    tempTime[0] = date[2] + \"-\" + date[1] + \"-\" + date[0];\n    tempMachine.time = tempTime.join(\" \");\n    fetch(\"http://10.10.60.161:5000/updatemachine\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(tempMachine)\n    });\n  }\n\n  function UpdatePump(pump) {\n    // Set date of machine to selected date\n    var tempPump = { ...pump\n    };\n    tempPump.active = 1;\n    fetch(\"http://10.10.60.161:5000/updatepump\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(tempPump)\n    });\n  }\n\n  function StopPump(pump) {\n    // Set date of machine to selected date\n    var tempPump = { ...pump\n    };\n    tempPump.active = 0;\n    fetch(\"http://10.10.60.161:5000/updatepump\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(tempPump)\n    });\n  }\n\n  function StopMachine(machine) {\n    // Set date of machine to selected date\n    var tempMachine = { ...machine\n    };\n    tempMachine.pumpname = null;\n    tempMachine.time = null;\n    tempMachine.active = 0;\n    fetch(\"http://10.10.60.161:5000/updatemachine\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(tempMachine)\n    });\n  }\n\n  useEffect(function () {\n    var hasstarted = localStorage.getItem(\"hasstarted\");\n\n    if (hasstarted == \"true\") {\n      console.log(\"Hej\");\n      setSubmitted(true);\n    }\n\n    fetch(\"http://10.10.60.161:5000/activemachines\").then(function (data) {\n      return data.json();\n    }).then(function (json) {\n      setActiveMachines(json);\n    }).catch(error => {\n      console.log(error);\n    });\n    fetch(\"http://10.10.60.161:5000/activepumps\").then(function (data) {\n      return data.json();\n    }).then(function (json) {\n      setActivePumps(json);\n    }).catch(error => {\n      console.log(error);\n    });\n    fetch(\"http://10.10.60.161:5000/inactivemachines\").then(function (data) {\n      return data.json();\n    }).then(function (json) {\n      setInactiveMachines(json);\n    }).catch(error => {\n      console.log(error);\n    });\n    fetch(\"http://10.10.60.161:5000/inactivepumps\").then(function (data) {\n      return data.json();\n    }).then(function (json) {\n      setInactivePumps(json);\n    }).catch(error => {\n      console.log(error);\n    });\n    fetch(\"http://10.10.60.161:5000/allpumps\").then(function (data) {\n      return data.json();\n    }).then(function (json) {\n      setAllPumps(json);\n    }).catch(error => {\n      console.log(error);\n    });\n    fetch(\"http://10.10.60.161:5000/allmachines\").then(function (data) {\n      return data.json();\n    }).then(function (json) {\n      setAllMachines(json);\n    }).catch(error => {\n      console.log(error);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: submitted ? /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: function (event) {\n        console.log(machine);\n        console.log(pump);\n        var newMachine = {\n          id: machine,\n          pumpname: pump,\n          time: \"2000-01-01 00:00:00\",\n          active: 1\n        }; // Sets \"Startmachine\" hook to values of \"newMachine\"\n\n        setStartmachine(newMachine);\n        var months = {\n          \"Jan\": \"January\",\n          \"Feb\": \"February\",\n          \"Mar\": \"March\",\n          \"Apr\": \"April\",\n          \"Maj\": \"May\",\n          \"Jun\": \"June\",\n          \"Jul\": \"July\",\n          \"Aug\": \"August\",\n          \"Sep\": \"September\",\n          \"Oct\": \"October\",\n          \"Nov\": \"November\",\n          \"Dec\": \"December\"\n        }; // Prevents default behavior (Getting put at another site)\n\n        event.preventDefault();\n        startMachine.time = selectedTime;\n        /*\r\n        // Set time to whatever the user picked\r\n        tempMachine[\"time\"] = selectedTime.replace(\"T\", \" \"); // Temp value, not correct\r\n        console.log(tempMachine.time)\r\n          //\"October 13, 2014 11:13:00\"\r\n        //\"06 Mar 03:24\"\r\n          console.log(tempMachine.time)\r\n        //06 Mar 03:24\r\n          tempMachine.time += \":00\";\r\n          console.log(tempMachine.time)\r\n        //06 Mar 03:24:00\r\n          var tempTime = tempMachine.time.split(\" \");\r\n          tempTime.push(new Date().getFullYear());\r\n          console.log(tempTime)\r\n        //06 Mar 03:24:00 2021\r\n          tempMachine.time = months[tempTime[1]] + \" \" + tempTime[0] + \" \" + tempTime[3] + \" \" + tempTime[2];\r\n          console.log(tempMachine.time)\r\n        //Mar 06 2021 03:24:00\r\n           \r\n        var newDate = new Date(tempMachine.time)\r\n          var timeDiff = newDate.getTime() - new Date().getTime()\r\n          \r\n        var hours = Math.floor(timeDiff / 3.6e6);\r\n        \r\n        var minutes = Math.floor((timeDiff % 3.6e6) / 6e4);\r\n        \r\n        var seconds = Math.floor((timeDiff % 6e4) / 1000)\r\n        \r\n        tempMachine.time = (hours < 10 ? \"0\" + hours : hours) + \":\" + (minutes < 10 ? \"0\" + minutes : minutes) + \":\" + (seconds < 10 ? \"0\" + seconds : seconds)\r\n        */\n        // var returned = formatTime(newDate, \"hh:mm:ss\")\n        // Make new array with the old data from tempdatamachines, and add \"tempMachine\" to it\n\n        setActiveMachines(activeMachines => [...activeMachines, startMachine]); // Removes active machine from dropdown menu\n\n        setInactiveMachines(inactiveMachines.filter(machine => startMachine.id != machine.id)); // Removes active pump from dropdown menu\n\n        setInactivePumps(inactivePumps.filter(pump => startMachine.pumpname != pump.name));\n        UpdateMachine(startMachine); // Set current stage to \"overview\", and set \"Submitted\" hook to false\n\n        localStorage.setItem(\"pump\", \"\");\n        localStorage.setItem(\"machine\", \"\");\n        localStorage.setItem(\"hasstarted\", \"false\");\n        setSubmitted(false);\n        window.location.href = \"/\";\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        id: \"choosetime\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"tab\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"tablinks\",\n            onClick: event => chooseTime(event, 'timeremaining'),\n            children: \"Tid tilbage\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 400,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"tablinks\",\n            onClick: event => chooseTime(event, 'date'),\n            children: \"Klokkesl\\xE6t\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 401,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"timeremaining\",\n          className: \"tabcontent\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Tid tilbage\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 405,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"timeremaining\",\n            onChange: event => TimeChanged(event),\n            type: \"time\",\n            size: \"50\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 406,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 407,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"choosetimesubmit\",\n            children: \"START\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 408,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 404,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          id: \"date\",\n          className: \"tabcontent\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Klokkesl\\xE6t\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 412,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            name: \"date\",\n            onChange: event => TimeChanged(event),\n            type: \"datetime-local\",\n            min: new Date().toISOString().slice(0, 16),\n            size: \"50\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 413,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 414,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"choosetimesubmit\",\n            children: \"START\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 415,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 411,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        children: /*#__PURE__*/_jsxDEV(\"nav\", {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"logo\",\n            children: /*#__PURE__*/_jsxDEV(\"h1\", {\n              children: \"Markvanding\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 423,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 422,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            className: \"nav-links\",\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"#\",\n                onClick: () => HandleClick(\"overview\"),\n                children: \"OVERSIGT\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 427,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 426,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"#\",\n                onClick: () => HandleClick(\"startmachine\"),\n                children: \"START VANDING\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 430,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 429,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"#\",\n                onClick: () => HandleClick(\"phonenumber\"),\n                children: \"TELEFONNUMRE\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 433,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 432,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"#\",\n                onClick: () => HandleClick(\"maintenance\"),\n                children: \"VEDLIGEHOLDELSE\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 436,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 435,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"#\",\n                onClick: () => HandleClick(\"addmachine\"),\n                children: [\"TILF\\xD8J/REDIGER \", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 439,\n                  columnNumber: 86\n                }, this), \" MASKINER/PUMPER\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 439,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 438,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 425,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"burger\",\n            onClick: slide,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"line1\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 443,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"line2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 444,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"line3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 445,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 442,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 421,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 420,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n        children: stage === \"overview\" ? /*#__PURE__*/_jsxDEV(Overview, {\n          activeMachines: activeMachines,\n          activePumps: activePumps,\n          stopMachine: StopMachine,\n          stopPump: StopPump,\n          setSubmitted: setSubmitted\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 453,\n          columnNumber: 13\n        }, this) : stage === \"startmachine\" ? /*#__PURE__*/_jsxDEV(Startmachine, {\n          setSubmitted: setSubmitted,\n          setStartmachine: setStartmachine,\n          activeMachines: activeMachines,\n          inactivePumps: inactivePumps,\n          inactiveMachines: inactiveMachines,\n          updatePump: UpdatePump,\n          setSubmitted: setSubmitted\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 455,\n          columnNumber: 13\n        }, this) : stage === \"phonenumber\" ? /*#__PURE__*/_jsxDEV(Phonenumbers, {\n          allPumps: allPumps,\n          setSubmitted: setSubmitted\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 457,\n          columnNumber: 13\n        }, this) : stage === \"maintenance\" ? /*#__PURE__*/_jsxDEV(Maintenance, {\n          allMachines: allMachines,\n          setSubmitted: setSubmitted\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 459,\n          columnNumber: 13\n        }, this) : stage === \"addmachine\" ? /*#__PURE__*/_jsxDEV(Addmachines, {\n          allPumps: allPumps,\n          allMachines: allMachines,\n          setSubmitted: setSubmitted\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 461,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 450,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 294,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"iPEB/UPOlzGNw0oiBZuqkxfNEJs=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["C:/Users/johan/OneDrive/Documents/GitHub/Markvanding/src/App.jsx"],"names":["React","useEffect","useState","Overview","Phonenumbers","Startmachine","Maintenance","Addmachines","App","windowWidth","window","innerWidth","stage","setStage","submitted","setSubmitted","startMachine","setStartmachine","selectedTime","setSelectedtime","activeMachines","setActiveMachines","activePumps","setActivePumps","inactiveMachines","setInactiveMachines","inactivePumps","setInactivePumps","allPumps","setAllPumps","allMachines","setAllMachines","machine","localStorage","getItem","pump","slide","burger","document","querySelector","nav","navLinks","querySelectorAll","classList","toggle","forEach","link","index","style","animation","HandleClick","navbar","chooseTime","event","time","tabcontent","getElementsByClassName","tablinks","choosetime","getElementById","i","length","display","className","replace","children","currentTarget","TimeChanged","name","value","target","now","Date","hours","parseInt","slice","minutes","setHours","getHours","setMinutes","getMinutes","console","log","UpdateMachine","updatedMachine","tempMachine","toLocaleString","dateStyle","timeStyle","tempTime","split","date","join","fetch","method","headers","body","JSON","stringify","UpdatePump","tempPump","active","StopPump","StopMachine","pumpname","hasstarted","then","data","json","catch","error","newMachine","id","months","preventDefault","filter","setItem","location","href","toISOString"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport Overview from './components/overview';\r\nimport Phonenumbers from './components/phonenumbers';\r\nimport Startmachine from './components/startmachine';\r\nimport Maintenance from './components/maintenance';\r\nimport Addmachines from './components/addmachines';\r\n\r\nfunction App() {\r\n\r\n  const windowWidth = window.innerWidth;\r\n\r\n  const [stage, setStage] = useState(\"overview\")\r\n  const [submitted, setSubmitted] = useState(false)\r\n  const [startMachine, setStartmachine] = useState({})\r\n  const [selectedTime, setSelectedtime] = useState({})\r\n\r\n  const [activeMachines, setActiveMachines] = useState([])\r\n  const [activePumps, setActivePumps] = useState([])\r\n  const [inactiveMachines, setInactiveMachines] = useState([])\r\n  const [inactivePumps, setInactivePumps] = useState([])\r\n  const [allPumps, setAllPumps] = useState([])\r\n  const [allMachines, setAllMachines] = useState([])\r\n  \r\n  const machine = localStorage.getItem(\"machine\")\r\n  const pump = localStorage.getItem(\"pump\")\r\n\r\n\r\n  function slide(){\r\n    const burger = document.querySelector('.burger');\r\n    const nav = document.querySelector('.nav-links');\r\n    const navLinks = document.querySelectorAll('.nav-links li');\r\n\r\n    //Toggle Nav\r\n    nav.classList.toggle('nav-active');\r\n    \r\n    //Animate Links\r\n    navLinks.forEach(function(link, index){\r\n      link.classList.toggle('nav-active-li');\r\n      if(link.style.animation){\r\n        link.style.animation = '';\r\n      }\r\n      else{\r\n        link.style.animation = `navLinkFade 0.5s ease forwards ${index / 7 + 0.5}s`\r\n      }\r\n    });\r\n\r\n    //Animate Burger\r\n    burger.classList.toggle('toggle');\r\n  }\r\n\r\n  function HandleClick(navbar) {\r\n    switch (navbar) {\r\n      case \"overview\":\r\n        setStage(\"overview\")\r\n        break;\r\n      case \"startmachine\":\r\n        setStage(\"startmachine\")\r\n        break;\r\n      case \"phonenumber\":\r\n        setStage(\"phonenumber\")\r\n        break;\r\n      case \"maintenance\":\r\n        setStage(\"maintenance\")\r\n        break;\r\n      case \"addmachine\":\r\n        setStage(\"addmachine\")\r\n        break;\r\n      default:\r\n        break;\r\n    }\r\n\r\n    \r\n    if (windowWidth <= 1280) slide();\r\n  }\r\n\r\n  function chooseTime(event, time) {\r\n\r\n    var tabcontent = document.getElementsByClassName(\"tabcontent\");\r\n    var tablinks = document.getElementsByClassName(\"tablinks\");\r\n    var choosetime = document.getElementById('choosetime');\r\n\r\n    for (var i = 0; i < tabcontent.length; i++) {\r\n      tabcontent[i].style.display = \"none\";\r\n    }\r\n\r\n    for (i = 0; i < tablinks.length; i++) {\r\n      tablinks[i].className = tablinks[i].className.replace(\" active\", \"\");\r\n    }\r\n\r\n    var children = choosetime.children;\r\n\r\n    if (time === \"timeremaining\")\r\n    {\r\n      children[1].style.display = \"block\"\r\n    } else\r\n    {\r\n      children[2].style.display = \"block\"\r\n    }\r\n    event.currentTarget.className += \" active\";\r\n  }\r\n/*\r\n  function formatDate(date, format) {\r\n    const months = [\"Jan\", \"Feb\", \"Mar\", \"Apr\", \"Maj\", \"Jun\", \"Jul\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\"]\r\n    const map = {\r\n        dd: date.getDate() < 10 ? \"0\" + date.getDate() : date.getDate(),  \r\n        mm: months[date.getMonth()],\r\n        t: date.getHours() < 10 ? \"0\" + date.getHours() : date.getHours(),\r\n        m: date.getMinutes() < 10 ? \"0\" + date.getMinutes() : date.getMinutes()\r\n    }\r\n\r\n    return format.replace(/dd|mm|t|m/gi, matched => map[matched])\r\n  }\r\n  \r\n  function formatTime(date, format) {\r\n    const map = {\r\n        hh: date.getHours() < 10 ? \"0\" + date.getHours() : date.getHours(),  \r\n        mm: date.getMinutes() < 10 ? \"0\" + date.getMinutes() : date.getMinutes(),\r\n        ss: date.getSeconds() < 10 ? \"0\" + date.getSeconds() : date.getSeconds()\r\n    }\r\n\r\n    return format.replace(/hh|mm|ss/gi, matched => map[matched])\r\n  }\r\n  */\r\n  \r\n  function TimeChanged(event){\r\n    const {name, value} = event.target\r\n    \r\n    var now = new Date();\r\n\r\n    if (name === \"timeremaining\") {\r\n      var hours = parseInt(value.slice(0, 2))\r\n      var minutes = parseInt(value.slice(3))\r\n\r\n      now.setHours(now.getHours() + hours)\r\n      now.setMinutes(now.getMinutes() + minutes)\r\n      console.log(now)\r\n    } else {\r\n      now = new Date(value);\r\n    }\r\n    console.log(now)\r\n    //Tue Feb 16 2021 10:25:00 GMT+0100 (Central European Standard Time)\r\n    setSelectedtime(now)\r\n  }\r\n\r\n  function UpdateMachine(updatedMachine){\r\n\r\n    // Set date of machine to selected date\r\n     var tempMachine = {...updatedMachine}\r\n     \r\n     tempMachine.time = selectedTime.toLocaleString(\"da-DK\", {\r\n       dateStyle: \"short\",\r\n       timeStyle: \"medium\"\r\n     });\r\n     \r\n     var tempTime = tempMachine.time.split(\" \");\r\n     var date = tempTime[0].split(\".\")\r\n     tempTime[0] = date[2] + \"-\" + date[1] + \"-\" + date[0]\r\n     tempMachine.time = tempTime.join(\" \");\r\n\r\n    fetch(\"http://10.10.60.161:5000/updatemachine\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify(tempMachine)\r\n    })\r\n  }\r\n\r\n  function UpdatePump(pump){\r\n\r\n    // Set date of machine to selected date\r\n     var tempPump = {...pump}\r\n     \r\n     tempPump.active = 1;\r\n     \r\n\r\n    fetch(\"http://10.10.60.161:5000/updatepump\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify(tempPump)\r\n    })\r\n  }\r\n\r\n  function StopPump(pump){\r\n\r\n    // Set date of machine to selected date\r\n     var tempPump = {...pump}\r\n     \r\n     tempPump.active = 0;\r\n     \r\n\r\n    fetch(\"http://10.10.60.161:5000/updatepump\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify(tempPump)\r\n    })\r\n  }\r\n\r\n  function StopMachine(machine){\r\n\r\n    // Set date of machine to selected date\r\n     var tempMachine = {...machine}\r\n    \r\n     tempMachine.pumpname = null\r\n     tempMachine.time = null\r\n     tempMachine.active = 0\r\n     \r\n\r\n    fetch(\"http://10.10.60.161:5000/updatemachine\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify(tempMachine)\r\n    })\r\n  }\r\n\r\n\r\n  useEffect(function() \r\n  {\r\n    var hasstarted = localStorage.getItem(\"hasstarted\")\r\n    if (hasstarted == \"true\") {\r\n      console.log(\"Hej\")\r\n      setSubmitted(true)\r\n    }\r\n    fetch(\"http://10.10.60.161:5000/activemachines\")\r\n      .then(function(data) {\r\n        return data.json();\r\n      })\r\n      .then(function(json) {\r\n        setActiveMachines(json)     \r\n      }).catch((error) => {\r\n        console.log(error);\r\n      });\r\n\r\n      fetch(\"http://10.10.60.161:5000/activepumps\")\r\n      .then(function(data) {\r\n        return data.json();\r\n      })\r\n      .then(function(json) {\r\n        setActivePumps(json)     \r\n      }).catch((error) => {\r\n        console.log(error);\r\n      });\r\n\r\n      fetch(\"http://10.10.60.161:5000/inactivemachines\")\r\n      .then(function(data) {\r\n        return data.json();\r\n      })\r\n      .then(function(json) {\r\n        setInactiveMachines(json)     \r\n      }).catch((error) => {\r\n        console.log(error);\r\n      });\r\n\r\n      fetch(\"http://10.10.60.161:5000/inactivepumps\")\r\n      .then(function(data) {\r\n        return data.json();\r\n      })\r\n      .then(function(json) {\r\n        setInactivePumps(json)     \r\n      }).catch((error) => {\r\n        console.log(error);\r\n      });\r\n\r\n      fetch(\"http://10.10.60.161:5000/allpumps\")\r\n      .then(function(data) {\r\n        return data.json();\r\n      })\r\n      .then(function(json) {\r\n        setAllPumps(json)     \r\n      }).catch((error) => {\r\n        console.log(error);\r\n      });\r\n\r\n      fetch(\"http://10.10.60.161:5000/allmachines\")\r\n      .then(function(data) {\r\n        return data.json();\r\n      })\r\n      .then(function(json) {\r\n        setAllMachines(json)\r\n      }).catch((error) => {\r\n        console.log(error);\r\n      });\r\n  }, [])\r\n\r\n\r\n\r\n  return (\r\n    <div className=\"App\">\r\n      {submitted ? (\r\n        <form onSubmit={function(event) {\r\n          \r\n          \r\n\r\n          console.log(machine)\r\n          console.log(pump)\r\n\r\n          var newMachine = {\r\n            id: machine,\r\n            pumpname: pump,\r\n            time: \"2000-01-01 00:00:00\",\r\n            active: 1\r\n          }\r\n          \r\n          // Sets \"Startmachine\" hook to values of \"newMachine\"\r\n          setStartmachine(newMachine);\r\n          \r\n          var months = {\r\n            \"Jan\": \"January\",\r\n            \"Feb\": \"February\",\r\n            \"Mar\": \"March\",\r\n            \"Apr\": \"April\",\r\n            \"Maj\": \"May\",\r\n            \"Jun\": \"June\",\r\n            \"Jul\": \"July\",\r\n            \"Aug\": \"August\",\r\n            \"Sep\": \"September\",\r\n            \"Oct\": \"October\",\r\n            \"Nov\": \"November\",\r\n            \"Dec\": \"December\"\r\n          }\r\n\r\n          // Prevents default behavior (Getting put at another site)\r\n          event.preventDefault();\r\n\r\n          startMachine.time = selectedTime;\r\n\r\n          /*\r\n          // Set time to whatever the user picked\r\n          tempMachine[\"time\"] = selectedTime.replace(\"T\", \" \"); // Temp value, not correct\r\n          console.log(tempMachine.time)\r\n\r\n          //\"October 13, 2014 11:13:00\"\r\n          //\"06 Mar 03:24\"\r\n\r\n          console.log(tempMachine.time)\r\n          //06 Mar 03:24\r\n\r\n          tempMachine.time += \":00\";\r\n\r\n          console.log(tempMachine.time)\r\n          //06 Mar 03:24:00\r\n\r\n          var tempTime = tempMachine.time.split(\" \");\r\n\r\n          tempTime.push(new Date().getFullYear());\r\n\r\n          console.log(tempTime)\r\n          //06 Mar 03:24:00 2021\r\n\r\n          tempMachine.time = months[tempTime[1]] + \" \" + tempTime[0] + \" \" + tempTime[3] + \" \" + tempTime[2];\r\n\r\n          console.log(tempMachine.time)\r\n          //Mar 06 2021 03:24:00\r\n \r\n          \r\n          var newDate = new Date(tempMachine.time)\r\n\r\n          var timeDiff = newDate.getTime() - new Date().getTime()\r\n\r\n          \r\n          var hours = Math.floor(timeDiff / 3.6e6);\r\n          \r\n          var minutes = Math.floor((timeDiff % 3.6e6) / 6e4);\r\n          \r\n          var seconds = Math.floor((timeDiff % 6e4) / 1000)\r\n          \r\n          tempMachine.time = (hours < 10 ? \"0\" + hours : hours) + \":\" + (minutes < 10 ? \"0\" + minutes : minutes) + \":\" + (seconds < 10 ? \"0\" + seconds : seconds)\r\n          */\r\n          \r\n          // var returned = formatTime(newDate, \"hh:mm:ss\")\r\n\r\n          \r\n          // Make new array with the old data from tempdatamachines, and add \"tempMachine\" to it\r\n          setActiveMachines(activeMachines => [...activeMachines, startMachine])\r\n\r\n          // Removes active machine from dropdown menu\r\n          setInactiveMachines(inactiveMachines.filter(machine => startMachine.id != machine.id))\r\n\r\n          // Removes active pump from dropdown menu\r\n          setInactivePumps(inactivePumps.filter(pump => startMachine.pumpname != pump.name))\r\n\r\n          UpdateMachine(startMachine);\r\n          \r\n          // Set current stage to \"overview\", and set \"Submitted\" hook to false\r\n\r\n          localStorage.setItem(\"pump\", \"\")\r\n          localStorage.setItem(\"machine\", \"\")\r\n          localStorage.setItem(\"hasstarted\", \"false\")\r\n          setSubmitted(false);\r\n          window.location.href = \"/\"\r\n        }}>\r\n          <div id=\"choosetime\">\r\n            <div className=\"tab\">\r\n              <button type=\"button\" className=\"tablinks\" onClick={(event) => chooseTime(event, 'timeremaining')}>Tid tilbage</button>\r\n              <button type=\"button\" className=\"tablinks\" onClick={(event) => chooseTime(event, 'date')}>Klokkeslæt</button>\r\n            </div>\r\n\r\n            <div id=\"timeremaining\" className=\"tabcontent\">\r\n              <h3>Tid tilbage</h3>\r\n              <input name=\"timeremaining\" onChange={(event) => TimeChanged(event)} type=\"time\" size=\"50\"></input>\r\n              <br></br>\r\n              <button type=\"submit\" className=\"choosetimesubmit\">START</button>\r\n            </div>\r\n\r\n            <div id=\"date\" className=\"tabcontent\">\r\n              <h3>Klokkeslæt</h3>\r\n              <input name=\"date\" onChange={(event) => TimeChanged(event)} type=\"datetime-local\" min={new Date().toISOString().slice(0, 16)} size=\"50\"></input>\r\n              <br></br>\r\n              <button type=\"submit\" className=\"choosetimesubmit\">START</button>\r\n            </div>\r\n          </div>\r\n        </form>\r\n      ) : <>\r\n        <header>\r\n          <nav>\r\n            <div className=\"logo\">\r\n              <h1>Markvanding</h1>\r\n            </div>\r\n            <ul className=\"nav-links\">\r\n              <li>\r\n                <a href=\"#\" onClick={() => HandleClick(\"overview\")}>OVERSIGT</a>\r\n              </li>\r\n              <li>\r\n                <a href=\"#\" onClick={() => HandleClick(\"startmachine\")}>START VANDING</a>\r\n              </li>\r\n              <li>\r\n                <a href=\"#\" onClick={() => HandleClick(\"phonenumber\")}>TELEFONNUMRE</a>\r\n              </li>\r\n              <li>\r\n                <a href=\"#\" onClick={() => HandleClick(\"maintenance\")}>VEDLIGEHOLDELSE</a>\r\n              </li>\r\n              <li>\r\n                <a href=\"#\" onClick={() => HandleClick(\"addmachine\")}>TILFØJ/REDIGER <br></br> MASKINER/PUMPER</a>\r\n              </li>\r\n            </ul>\r\n            <div className=\"burger\" onClick={slide}>\r\n              <div className=\"line1\"></div>\r\n              <div className=\"line2\"></div>\r\n              <div className=\"line3\"></div>\r\n            </div>\r\n          </nav>\r\n        </header>\r\n        \r\n        <main>\r\n        {\r\n          stage === \"overview\" ? (\r\n            <Overview activeMachines={activeMachines} activePumps={activePumps} stopMachine={StopMachine} stopPump={StopPump} setSubmitted={setSubmitted}/>\r\n          ) : stage === \"startmachine\" ? (\r\n            <Startmachine setSubmitted={setSubmitted} setStartmachine={setStartmachine} activeMachines={activeMachines} inactivePumps={inactivePumps} inactiveMachines={inactiveMachines} updatePump={UpdatePump} setSubmitted={setSubmitted}/>\r\n          ) : stage === \"phonenumber\" ? (\r\n            <Phonenumbers  allPumps={allPumps} setSubmitted={setSubmitted}/>\r\n          ) : stage === \"maintenance\" ? (\r\n            <Maintenance allMachines={allMachines} setSubmitted={setSubmitted}/>\r\n          ) : stage === \"addmachine\" ? (\r\n            <Addmachines allPumps={allPumps} allMachines={allMachines} setSubmitted={setSubmitted}/>\r\n          ) : <></>\r\n        }\r\n      </main>\r\n      </>}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}