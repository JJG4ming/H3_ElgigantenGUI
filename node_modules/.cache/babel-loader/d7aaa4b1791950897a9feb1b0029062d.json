{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"C:\\\\Users\\\\johan\\\\OneDrive\\\\Documents\\\\GitHub\\\\Markvanding\\\\src\\\\components\\\\addmachines.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\n\nfunction Addmachines({\n  allPumps,\n  allMachines\n}) {\n  _s();\n\n  const [machine, setMachine] = useState(\"\");\n  const [pump, setPump] = useState(\"\");\n  const [currentPump, setCurrentPump] = useState({\n    name: \"\",\n    number: \"\",\n    startcode: \"\",\n    stopcode: \"\"\n  });\n  const [currentMachine, setCurrentMachine] = useState({});\n\n  const validatePump = (name, number) => {\n    var re = new RegExp(\"[0-9]{8}$\");\n\n    if (number.value.length !== 8) {\n      alert(\"Nummeret skal være 8 cifre langt!\");\n      return;\n    }\n\n    if (re.test(number.value.toString()) == false) {\n      alert(\"Nummeret må kun være tal\");\n      return;\n    } // Variables for name (na), and number (nu)\n    // Checks if name and number already exists\n\n\n    var na = allPumps.some(a => a.name === name.value);\n    var nu = allPumps.some(a => a.number === number.value); // If name or number exists, make an alert with the problem, and return out / stop the function\n\n    if (name.value !== currentPump.name) {\n      if (na == true) {\n        alert(\"Pumpens navn findes allerede\");\n        return;\n      }\n    }\n\n    if (number.value !== currentPump.number) {\n      if (nu == true) {\n        alert(\"Pumpens tlf nummer findes allerede\");\n        return;\n      }\n    }\n\n    if (re.test(number.value.toString()) == true) alert(\"Eyyy det virker\");\n    return true;\n  };\n\n  const findEditPump = () => {\n    var findPumpName = document.getElementById(\"findeditpumpname\");\n    var name = document.getElementById(\"editpumpname\");\n    var number = document.getElementById(\"editpumpnumber\");\n    var startcode = document.getElementById(\"editpumpstartcode\");\n    var stopcode = document.getElementById(\"editpumpstopcode\");\n    var pump = allPumps.find(pump => {\n      return pump[\"name\"] === findPumpName.value;\n    });\n\n    if (pump) {\n      setCurrentPump(pump);\n      name.value = pump.name;\n      number.value = pump.number;\n      startcode.value = pump.startcode;\n      stopcode.value = pump.stopcode;\n    } else {\n      alert(\"Pumpen findes ikke, har du skrevet det rigtigt?\");\n    }\n  };\n\n  const updatePump = () => {\n    var name = document.getElementById(\"editpumpname\");\n    var number = document.getElementById(\"editpumpnumber\");\n    var startcode = document.getElementById(\"editpumpstartcode\");\n    var stopcode = document.getElementById(\"editpumpstopcode\");\n    var result = validatePump(name, number);\n    if (result !== true) return;\n    var tempPump = {\n      id: currentPump.id,\n      name: name.value,\n      number: number.value,\n      active: 0,\n      startcode: startcode.value,\n      stopcode: stopcode.value\n    };\n    fetch(\"http://10.10.60.161:5000/updatepump\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(tempPump)\n    });\n    window.location.href = \"/\";\n  };\n\n  const createPump = () => {\n    var name = document.getElementById(\"createpumpname\");\n    var number = document.getElementById(\"createpumpnumber\");\n    var startcode = document.getElementById(\"createpumpstartcode\");\n    var stopcode = document.getElementById(\"createpumpstopcode\");\n    var result = validatePump(name, number);\n    if (result !== true) return; // Temporary pump object that gets sent to the server to insert into the database\n\n    var tempPump = {\n      name: name.value,\n      number: number.value,\n      active: 0,\n      startcode: startcode.value,\n      stopcode: stopcode.value\n    }; // Sends tempPump to server\n\n    fetch(\"http://10.10.60.161:5000/createpump\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(tempPump)\n    });\n    window.location.href = \"/\";\n  };\n\n  const createMachine = () => {\n    var id = document.getElementById(\"createmachineid\");\n    var re = new RegExp(/^[0-9]+$/);\n\n    if (re.test(id.value.toString()) == false) {\n      alert(\"Nummeret må kun være tal\");\n      return;\n    }\n\n    var nu = allMachines.some(a => a.id == id.value);\n\n    if (nu == true) {\n      alert(\"Maskine nummeret findes allerede\");\n      return;\n    }\n\n    if (re.test(id.value.toString()) == true) alert(\"Eyyy det virker\");\n    var tempMachine = {\n      id: id.value,\n      active: 0\n    };\n    fetch(\"http://10.10.60.161:5000/createmachine\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(tempMachine)\n    });\n    window.location.href = \"/\";\n  };\n\n  const findRemovePump = () => {\n    var findPumpName = document.getElementById(\"findremovepumpname\");\n    var removePumpName = document.getElementById(\"removepumpname\");\n    var pump = allPumps.find(pump => {\n      return pump[\"name\"] == findPumpName.value;\n    });\n\n    if (pump) {\n      setCurrentPump(pump);\n      removePumpName.value = pump.name;\n    } else {\n      alert(\"Pumpen findes ikke, har du skrevet det rigtigt?\");\n    }\n  };\n\n  const removePump = () => {\n    if (currentPump.active == 1) {\n      alert(\"Du kan ikke slette en aktiv pumpe\");\n      return;\n    }\n\n    var tempPump = {\n      id: currentPump.id\n    };\n    fetch(\"http://10.10.60.161:5000/removepump\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(tempPump)\n    });\n    window.location.href = \"/\";\n  };\n\n  const findRemoveMachine = () => {\n    var findMachineId = document.getElementById(\"findremovemachineid\");\n    var removeMachineId = document.getElementById(\"removemachineid\");\n    var machine = allMachines.find(machine => {\n      return machine[\"id\"] == findMachineId.value;\n    });\n\n    if (machine) {\n      setCurrentMachine(machine);\n      removeMachineId.value = machine.id;\n    } else {\n      alert(\"Maskinen findes ikke, har du skrevet det rigtigt?\");\n    }\n  };\n\n  const removeMachine = () => {\n    if (currentMachine.active == 1) {\n      alert(\"Du kan ikke slette en aktiv maskine\");\n      return;\n    }\n\n    var tempMachine = {\n      id: currentMachine.id\n    };\n    fetch(\"http://10.10.60.161:5000/removemachine\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(tempMachine)\n    });\n    window.location.href = \"/\";\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"form\", {\n      id: \"createpump\",\n      onSubmit: function (event) {\n        event.preventDefault();\n        createPump();\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Opret pumpe\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 248,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Pumpe navn \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"createpumpname\",\n        name: \"createpumpname\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 78\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Pumpe nummer \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"createpumpnumber\",\n        name: \"createpumpnumber\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 82\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Startkode \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"createpumpstartcode\",\n        name: \"createpumpstartcode\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 254,\n        columnNumber: 88\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Stopkode \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"createpumpstopcode\",\n        name: \"createpumpstopcode\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 86\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"createandupdatebuttons\",\n        type: \"submit\",\n        children: \"Opret\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 257,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 244,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      id: \"createmachine\",\n      onSubmit: function (event) {\n        event.preventDefault();\n        createMachine();\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Opret maskine\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Maskine nr. \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"createmachineid\",\n        name: \"createmachineid\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 80\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"createandupdatebuttons\",\n        type: \"submit\",\n        children: \"Opret\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      id: \"editpump\",\n      onSubmit: function (event) {\n        event.preventDefault();\n        updatePump();\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Find/Rediger pumpe\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 274,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"findeditpumpname\",\n        name: \"findeditpumpname\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 275,\n        columnNumber: 82\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"createandupdatebuttons\",\n        onClick: () => findEditPump(),\n        children: \"Find pumpe\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 276,\n        columnNumber: 116\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Pumpe navn \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 277,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"editpumpname\",\n        name: \"editpumpname\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 278,\n        columnNumber: 83\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Pumpe nummer \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 279,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"editpumpnumber\",\n        name: \"editpumpnumber\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 87\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Pumpe startcode \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"editpumpstartcode\",\n        name: \"editpumpstartcode\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 282,\n        columnNumber: 93\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Pumpe stopcode \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 283,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"editpumpstopcode\",\n        name: \"editpumpstopcode\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 284,\n        columnNumber: 91\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"createandupdatebuttons\",\n        type: \"submit\",\n        children: \"Opdater\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 270,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      id: \"removepump\",\n      onSubmit: function (event) {\n        event.preventDefault();\n        removePump();\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Find/Slet pumpe\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"findremovepumpname\",\n        name: \"findremovepumpname\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 293,\n        columnNumber: 86\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        className: \"createandupdatebuttons\",\n        onClick: () => findRemovePump(),\n        children: \"Find pumpe\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 118\n      }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Pumpe navn \"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        id: \"removepumpname\",\n        name: \"removepumpname\",\n        disabled: \"disabled\",\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 107\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"createandupdatebuttons\",\n        type: \"submit\",\n        children: \"Slet\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"removemachine\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        htmlFor: \"\",\n        children: \"Slet maskine\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 301,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        name: \"chosenmachine\",\n        id: \"chosenmachine\",\n        onChange: function (event) {\n          var options = event.target.children;\n          var option = options[event.target.selectedIndex];\n          setMachine(allMachines.find(machine => {\n            return machine.id == option.dataset.id;\n          }));\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          selected: true,\n          disabled: true,\n          hidden: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 311,\n          columnNumber: 13\n        }, this), allMachines.map(function (element) {\n          return /*#__PURE__*/_jsxDEV(\"option\", {\n            \"data-id\": element.id,\n            children: element.id\n          }, element.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 313,\n            columnNumber: 22\n          }, this);\n        })]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 7\n    }, this), console.log(document.getElementById(\"chosenmachine\")), /*#__PURE__*/_jsxDEV(\"form\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 332,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 243,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Addmachines, \"ua8jZ8zIS9sjucQ8SpimRBbdeTM=\");\n\n_c = Addmachines;\nexport default Addmachines;\n\nvar _c;\n\n$RefreshReg$(_c, \"Addmachines\");","map":{"version":3,"sources":["C:/Users/johan/OneDrive/Documents/GitHub/Markvanding/src/components/addmachines.jsx"],"names":["React","useEffect","useState","Addmachines","allPumps","allMachines","machine","setMachine","pump","setPump","currentPump","setCurrentPump","name","number","startcode","stopcode","currentMachine","setCurrentMachine","validatePump","re","RegExp","value","length","alert","test","toString","na","some","a","nu","findEditPump","findPumpName","document","getElementById","find","updatePump","result","tempPump","id","active","fetch","method","headers","body","JSON","stringify","window","location","href","createPump","createMachine","tempMachine","findRemovePump","removePumpName","removePump","findRemoveMachine","findMachineId","removeMachineId","removeMachine","event","preventDefault","options","target","children","option","selectedIndex","dataset","map","element","console","log"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\r\n\r\nfunction Addmachines({allPumps, allMachines}){\r\n  const [machine, setMachine] = useState(\"\")\r\n  const [pump, setPump] = useState(\"\")\r\n\r\n  const [currentPump, setCurrentPump] = useState({\r\n    name: \"\",\r\n    number: \"\",\r\n    startcode: \"\",\r\n    stopcode: \"\"\r\n  })\r\n  const [currentMachine, setCurrentMachine] = useState({\r\n  })\r\n\r\n  const validatePump = (name, number) => {\r\n    var re = new RegExp(\"[0-9]{8}$\")\r\n\r\n    if (number.value.length !== 8) {\r\n      alert(\"Nummeret skal være 8 cifre langt!\")\r\n      return;\r\n    }\r\n    if (re.test(number.value.toString()) == false) {\r\n      alert(\"Nummeret må kun være tal\")\r\n      return;\r\n    }\r\n\r\n    // Variables for name (na), and number (nu)\r\n    // Checks if name and number already exists\r\n    var na = allPumps.some(a => a.name === name.value)\r\n    var nu = allPumps.some(a => a.number === number.value)\r\n\r\n    // If name or number exists, make an alert with the problem, and return out / stop the function\r\n    if (name.value !== currentPump.name){\r\n      if (na == true){\r\n        alert(\"Pumpens navn findes allerede\")\r\n        return;\r\n      }\r\n    }\r\n    \r\n    if (number.value !== currentPump.number){\r\n      if (nu == true){\r\n        alert(\"Pumpens tlf nummer findes allerede\")\r\n        return;\r\n      }\r\n    }\r\n    \r\n    if (re.test(number.value.toString()) == true) alert(\"Eyyy det virker\");\r\n    return true;\r\n  }\r\n\r\n  const findEditPump = () => {\r\n    var findPumpName = document.getElementById(\"findeditpumpname\");\r\n    \r\n    var name = document.getElementById(\"editpumpname\");\r\n    var number = document.getElementById(\"editpumpnumber\");\r\n    var startcode = document.getElementById(\"editpumpstartcode\")\r\n    var stopcode = document.getElementById(\"editpumpstopcode\")\r\n\r\n    var pump = allPumps.find((pump) => {\r\n      return pump[\"name\"] === findPumpName.value;\r\n    })\r\n\r\n    if (pump) {\r\n      setCurrentPump(pump)\r\n      name.value = pump.name\r\n      number.value = pump.number\r\n      startcode.value = pump.startcode\r\n      stopcode.value = pump.stopcode\r\n    } else {\r\n      alert(\"Pumpen findes ikke, har du skrevet det rigtigt?\")\r\n    }\r\n    \r\n  }\r\n\r\n  const updatePump = () =>{\r\n    var name = document.getElementById(\"editpumpname\");\r\n    var number = document.getElementById(\"editpumpnumber\");\r\n    var startcode = document.getElementById(\"editpumpstartcode\")\r\n    var stopcode = document.getElementById(\"editpumpstopcode\")\r\n\r\n    var result = validatePump(name, number)\r\n    if (result !== true) return;\r\n\r\n    var tempPump = {\r\n      id: currentPump.id,\r\n      name: name.value,\r\n      number: number.value,\r\n      active: 0,\r\n      startcode: startcode.value,\r\n      stopcode: stopcode.value\r\n    }\r\n\r\n    fetch(\"http://10.10.60.161:5000/updatepump\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify(tempPump)\r\n    })\r\n    window.location.href = \"/\"\r\n  }\r\n\r\n  const createPump = () =>{\r\n    var name = document.getElementById(\"createpumpname\")\r\n    var number = document.getElementById(\"createpumpnumber\")\r\n    var startcode = document.getElementById(\"createpumpstartcode\")\r\n    var stopcode = document.getElementById(\"createpumpstopcode\")\r\n\r\n    var result = validatePump(name, number)\r\n    if (result !== true) return;\r\n\r\n    // Temporary pump object that gets sent to the server to insert into the database\r\n    var tempPump = {\r\n      name: name.value,\r\n      number: number.value,\r\n      active: 0,\r\n      startcode: startcode.value,\r\n      stopcode: stopcode.value\r\n    } \r\n  \r\n    // Sends tempPump to server\r\n    fetch(\"http://10.10.60.161:5000/createpump\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify(tempPump)\r\n    })\r\n    window.location.href = \"/\"\r\n  }\r\n\r\n  const createMachine = () =>{\r\n    var id = document.getElementById(\"createmachineid\")\r\n\r\n    var re = new RegExp(/^[0-9]+$/)\r\n\r\n    if (re.test(id.value.toString()) == false) {\r\n      alert(\"Nummeret må kun være tal\")\r\n      return;\r\n    }\r\n\r\n    var nu = allMachines.some(a => a.id == id.value)\r\n    \r\n    if (nu == true) {\r\n      alert(\"Maskine nummeret findes allerede\")\r\n      return;\r\n    }\r\n\r\n    if (re.test(id.value.toString()) == true) alert(\"Eyyy det virker\");\r\n\r\n    var tempMachine = {\r\n      id: id.value,\r\n      active: 0\r\n    } \r\n  \r\n    fetch(\"http://10.10.60.161:5000/createmachine\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify(tempMachine)\r\n    })\r\n    window.location.href=\"/\"\r\n  }\r\n\r\n  const findRemovePump = () => {\r\n    var findPumpName = document.getElementById(\"findremovepumpname\");\r\n    var removePumpName = document.getElementById(\"removepumpname\")\r\n    \r\n    var pump = allPumps.find((pump) => {\r\n      return pump[\"name\"] == findPumpName.value;\r\n    })\r\n\r\n    if (pump) {\r\n      setCurrentPump(pump)\r\n      removePumpName.value = pump.name\r\n    } else {\r\n      alert(\"Pumpen findes ikke, har du skrevet det rigtigt?\")\r\n    }\r\n    \r\n  }\r\n\r\n  const removePump = () =>{\r\n    if (currentPump.active == 1) {\r\n      alert(\"Du kan ikke slette en aktiv pumpe\")\r\n      return;\r\n    }\r\n\r\n    var tempPump = {\r\n      id: currentPump.id,\r\n    } \r\n\r\n    fetch(\"http://10.10.60.161:5000/removepump\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify(tempPump)\r\n    })\r\n    window.location.href = \"/\"\r\n  }\r\n\r\n  const findRemoveMachine = () => {\r\n    var findMachineId = document.getElementById(\"findremovemachineid\");\r\n    var removeMachineId = document.getElementById(\"removemachineid\")\r\n\r\n    var machine = allMachines.find((machine) => {\r\n      return machine[\"id\"] == findMachineId.value;\r\n    })\r\n\r\n\r\n    if (machine) {\r\n      setCurrentMachine(machine)\r\n      removeMachineId.value = machine.id\r\n    } else {\r\n      alert(\"Maskinen findes ikke, har du skrevet det rigtigt?\")\r\n    }\r\n    \r\n  }\r\n\r\n  const removeMachine = () =>{\r\n    if (currentMachine.active == 1) {\r\n      alert(\"Du kan ikke slette en aktiv maskine\")\r\n      return;\r\n    }\r\n\r\n    var tempMachine = {\r\n      id: currentMachine.id,\r\n    } \r\n\r\n    fetch(\"http://10.10.60.161:5000/removemachine\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\"\r\n      },\r\n      body: JSON.stringify(tempMachine)\r\n    })\r\n    window.location.href = \"/\"\r\n  }\r\n\r\n  return(\r\n    <div>\r\n      <form id=\"createpump\" onSubmit={function(event){\r\n        event.preventDefault();\r\n        createPump();\r\n      }}>\r\n        <h2>Opret pumpe</h2>\r\n        <label>Pumpe navn </label>\r\n        <input type=\"text\" id=\"createpumpname\" name=\"createpumpname\"></input><br></br>\r\n        <label>Pumpe nummer </label>\r\n        <input type=\"text\" id=\"createpumpnumber\" name=\"createpumpnumber\"></input><br></br>\r\n        <label>Startkode </label>\r\n        <input type=\"text\" id=\"createpumpstartcode\" name=\"createpumpstartcode\"></input><br></br>\r\n        <label>Stopkode </label>\r\n        <input type=\"text\" id=\"createpumpstopcode\" name=\"createpumpstopcode\"></input><br></br>\r\n        <button className=\"createandupdatebuttons\" type=\"submit\">Opret</button>\r\n      </form>\r\n\r\n      <form id=\"createmachine\" onSubmit={function(event){\r\n        event.preventDefault();\r\n        createMachine();\r\n      }}>\r\n        <h2>Opret maskine</h2>\r\n        <label>Maskine nr. </label>\r\n        <input type=\"text\" id=\"createmachineid\" name=\"createmachineid\"></input><br></br>\r\n        <button className=\"createandupdatebuttons\" type=\"submit\">Opret</button>\r\n      </form>\r\n\r\n      <form id=\"editpump\" onSubmit={function(event){\r\n        event.preventDefault();\r\n        updatePump();\r\n      }}>\r\n        <h2>Find/Rediger pumpe</h2>\r\n        <input type=\"text\" id=\"findeditpumpname\" name=\"findeditpumpname\"></input><br></br>\r\n        <button type=\"button\" className=\"createandupdatebuttons\" onClick={() => findEditPump()}>Find pumpe</button><br></br>\r\n        <label>Pumpe navn </label>\r\n        <input type=\"text\" id=\"editpumpname\" name=\"editpumpname\" required></input><br></br>\r\n        <label>Pumpe nummer </label>\r\n        <input type=\"text\" id=\"editpumpnumber\" name=\"editpumpnumber\" required></input><br></br>\r\n        <label>Pumpe startcode </label>\r\n        <input type=\"text\" id=\"editpumpstartcode\" name=\"editpumpstartcode\" required></input><br></br>\r\n        <label>Pumpe stopcode </label>\r\n        <input type=\"text\" id=\"editpumpstopcode\" name=\"editpumpstopcode\" required></input><br></br>\r\n        <button className=\"createandupdatebuttons\" type=\"submit\">Opdater</button>\r\n      </form>\r\n\r\n      <form id=\"removepump\" onSubmit={function(event){\r\n        event.preventDefault();\r\n        removePump();\r\n      }}>\r\n        <h2>Find/Slet pumpe</h2>\r\n        <input type=\"text\" id=\"findremovepumpname\" name=\"findremovepumpname\"></input><br></br>\r\n        <button type=\"button\" className=\"createandupdatebuttons\" onClick={() => findRemovePump()}>Find pumpe</button><br></br>\r\n        <label>Pumpe navn </label>\r\n        <input type=\"text\" id=\"removepumpname\" name=\"removepumpname\" disabled=\"disabled\" required></input><br></br>\r\n        <button className=\"createandupdatebuttons\" type=\"submit\">Slet</button>\r\n      </form>\r\n\r\n      <div id=\"removemachine\">\r\n          <label htmlFor=\"\">Slet maskine</label>\r\n          <br></br>\r\n          <select name=\"chosenmachine\" id=\"chosenmachine\" onChange={function(event){\r\n            var options = event.target.children;\r\n            var option = options[event.target.selectedIndex];\r\n\r\n            setMachine(allMachines.find((machine) => {\r\n              return machine.id == option.dataset.id\r\n            }));\r\n          }}>\r\n            <option selected disabled hidden></option>\r\n            {allMachines.map(function(element) {\r\n              return <option key={element.id} data-id={element.id}>{element.id}</option>\r\n            })}\r\n          </select>\r\n        </div>\r\n      \r\n      {console.log(document.getElementById(\"chosenmachine\"))}\r\n\r\n      {/* <form id=\"removemachine\" onSubmit={function(event){\r\n        event.preventDefault();\r\n        removeMachine();\r\n      }}>\r\n        <h2>Find/Slet maskine</h2>\r\n        <input type=\"text\" id=\"findremovemachineid\" name=\"findremovemachineid\"></input><br></br>\r\n        <button type=\"button\" className=\"createandupdatebuttons\" onClick={() => findRemoveMachine()}>Find maskine</button><br></br>\r\n        <label>Maskine nr. </label>\r\n        <input type=\"text\" id=\"removemachineid\" name=\"removemachineid\" disabled=\"disabled\" required></input><br></br>\r\n        <button className=\"createandupdatebuttons\" type=\"submit\">Slet</button>\r\n      </form> */}\r\n\r\n      <form>\r\n\r\n      </form>\r\n    </div>\r\n  )\r\n\r\n\r\n}\r\n\r\nexport default Addmachines;"]},"metadata":{},"sourceType":"module"}